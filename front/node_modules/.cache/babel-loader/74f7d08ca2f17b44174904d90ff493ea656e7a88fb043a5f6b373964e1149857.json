{"ast":null,"code":"import { addFeescale } from \"./api.js\";\nexport default {\n  name: \"add\",\n  components: {},\n  data() {\n    return {\n      submitLoading: false,\n      form: {\n        free_time: \"\",\n        start_price: \"\",\n        beyond_price: \"\"\n      },\n      formValidate: {\n        free_time: [{\n          required: true,\n          message: \"不能为空\",\n          trigger: \"blur\"\n        }],\n        start_price: [{\n          required: true,\n          message: \"不能为空\",\n          trigger: \"blur\"\n        }],\n        beyond_price: [{\n          required: true,\n          message: \"不能为空\",\n          trigger: \"blur\"\n        }]\n      }\n    };\n  },\n  methods: {\n    init() {},\n    handleReset() {\n      this.$refs.form.resetFields();\n    },\n    handleSubmit() {\n      this.$refs.form.validate(valid => {\n        if (valid) {\n          addFeescale(this.form).then(res => {\n            this.submitLoading = false;\n            if (res.success) {\n              this.$Message.success(\"操作成功\");\n              this.submited();\n            }\n          });\n        }\n      });\n    },\n    close() {\n      this.$emit(\"close\", true);\n    },\n    submited() {\n      this.$emit(\"submited\", true);\n    }\n  },\n  mounted() {\n    this.init();\n  }\n};","map":{"version":3,"names":["addFeescale","name","components","data","submitLoading","form","free_time","start_price","beyond_price","formValidate","required","message","trigger","methods","init","handleReset","$refs","resetFields","handleSubmit","validate","valid","then","res","success","$Message","submited","close","$emit","mounted"],"sources":["src/views/park/feeScale/add.vue"],"sourcesContent":["<template>\r\n    <div>\r\n      <Card>\r\n        <div slot=\"title\">\r\n          <div class=\"edit-head\">\r\n            <a @click=\"close\" class=\"back-title\">\r\n              <Icon type=\"ios-arrow-back\" />返回\r\n            </a>\r\n            <div class=\"head-name\">添加</div>\r\n            <span></span>\r\n            <a @click=\"close\" class=\"window-close\">\r\n              <Icon type=\"ios-close\" size=\"31\" class=\"ivu-icon-ios-close\" />\r\n            </a>\r\n          </div>\r\n        </div>\r\n        <Form ref=\"form\" :model=\"form\" :label-width=\"100\" :rules=\"formValidate\" label-position=\"left\" >          <FormItem label=\"免费时间\" prop=\"free_time\"  >\r\n              <Input v-model=\"form.free_time\" clearable maxlength=\"240\" show-word-limit placeholder=\"请输入免费时间...\" style=\"width:570px\"/>\r\n            </FormItem>\r\n            <FormItem label=\"起步费用\" prop=\"start_price\"  >\r\n              <Input v-model=\"form.start_price\" clearable maxlength=\"240\" show-word-limit placeholder=\"请输入起步费用...\" style=\"width:570px\"/>\r\n            </FormItem>\r\n            <FormItem label=\"超时费用\" prop=\"beyond_price\"  >\r\n              <Input v-model=\"form.beyond_price\" clearable maxlength=\"240\" show-word-limit placeholder=\"请输入超时费用...\" style=\"width:570px\"/>\r\n            </FormItem>\r\n            <Form-item class=\"br\">\r\n              <Button\r\n                @click=\"handleSubmit\"\r\n                :loading=\"submitLoading\"\r\n                type=\"primary\"\r\n              >提交并保存</Button>\r\n              <Button @click=\"handleReset\">重置</Button>\r\n              <Button type=\"dashed\" @click=\"close\">关闭</Button>\r\n            </Form-item>\r\n          </Form>\r\n      </Card>\r\n    </div>\r\n  </template>\r\n  \r\n  <script>\r\n  import { addFeescale } from \"./api.js\";\r\n  export default {\r\n    name: \"add\",\r\n    components: {\r\n      },\r\n    data() {\r\n      return {\r\n        submitLoading: false,\r\n        form: {\r\n          free_time: \"\",\r\n          start_price: \"\",\r\n          beyond_price: \"\",\r\n        },\r\n        formValidate: {\r\n          free_time: [{ required: true, message: \"不能为空\", trigger: \"blur\" }],\r\n          start_price: [{ required: true, message: \"不能为空\", trigger: \"blur\" }],\r\n          beyond_price: [{ required: true, message: \"不能为空\", trigger: \"blur\" }],\r\n        }\r\n      };\r\n    },\r\n    methods: {\r\n      init() {},\r\n      handleReset() {\r\n        this.$refs.form.resetFields();\r\n      },\r\n      handleSubmit() {\r\n        this.$refs.form.validate(valid => {\r\n          if (valid) {\r\n            addFeescale(this.form).then(res => {\r\n              this.submitLoading = false;\r\n              if (res.success) {\r\n                this.$Message.success(\"操作成功\");\r\n                this.submited();\r\n              }\r\n            });\r\n          }\r\n        });\r\n      },\r\n      close() {\r\n        this.$emit(\"close\", true);\r\n      },\r\n      submited() {\r\n        this.$emit(\"submited\", true);\r\n      }\r\n    },\r\n    mounted() {\r\n      this.init();\r\n    }\r\n  };\r\n  </script>\r\n  <style lang=\"less\">\r\n  .edit-head {\r\n      display: flex;\r\n      align-items: center;\r\n      justify-content: space-between;\r\n      position: relative;\r\n  \r\n      .back-title {\r\n          color: #515a6e;\r\n          display: flex;\r\n          align-items: center;\r\n      }\r\n  \r\n      .head-name {\r\n          display: inline-block;\r\n          height: 20px;\r\n          line-height: 20px;\r\n          font-size: 16px;\r\n          color: #17233d;\r\n          font-weight: 500;\r\n          overflow: hidden;\r\n          text-overflow: ellipsis;\r\n          white-space: nowrap;\r\n      }\r\n  \r\n      .window-close {\r\n          z-index: 1;\r\n          font-size: 12px;\r\n          position: absolute;\r\n          right: 0px;\r\n          top: -5px;\r\n          overflow: hidden;\r\n          cursor: pointer;\r\n  \r\n          .ivu-icon-ios-close {\r\n              color: #999;\r\n              transition: color .2s ease;\r\n          }\r\n      }\r\n  \r\n      .window-close .ivu-icon-ios-close:hover {\r\n          color: #444;\r\n      }\r\n  }\r\n  </style>"],"mappings":"AAuCA,SAAAA,WAAA;AACA;EACAC,IAAA;EACAC,UAAA,GACA;EACAC,KAAA;IACA;MACAC,aAAA;MACAC,IAAA;QACAC,SAAA;QACAC,WAAA;QACAC,YAAA;MACA;MACAC,YAAA;QACAH,SAAA;UAAAI,QAAA;UAAAC,OAAA;UAAAC,OAAA;QAAA;QACAL,WAAA;UAAAG,QAAA;UAAAC,OAAA;UAAAC,OAAA;QAAA;QACAJ,YAAA;UAAAE,QAAA;UAAAC,OAAA;UAAAC,OAAA;QAAA;MACA;IACA;EACA;EACAC,OAAA;IACAC,KAAA;IACAC,YAAA;MACA,KAAAC,KAAA,CAAAX,IAAA,CAAAY,WAAA;IACA;IACAC,aAAA;MACA,KAAAF,KAAA,CAAAX,IAAA,CAAAc,QAAA,CAAAC,KAAA;QACA,IAAAA,KAAA;UACApB,WAAA,MAAAK,IAAA,EAAAgB,IAAA,CAAAC,GAAA;YACA,KAAAlB,aAAA;YACA,IAAAkB,GAAA,CAAAC,OAAA;cACA,KAAAC,QAAA,CAAAD,OAAA;cACA,KAAAE,QAAA;YACA;UACA;QACA;MACA;IACA;IACAC,MAAA;MACA,KAAAC,KAAA;IACA;IACAF,SAAA;MACA,KAAAE,KAAA;IACA;EACA;EACAC,QAAA;IACA,KAAAd,IAAA;EACA;AACA","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}